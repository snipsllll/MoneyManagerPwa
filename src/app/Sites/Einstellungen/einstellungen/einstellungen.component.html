<app-top-bar></app-top-bar>

<div class="einstellungen">
  <div class="einstellungen__userdata-wrapper">
    <div class="einstellungen__userdata-email-label">
      angemeldet als:
    </div>
    <div class="einstellungen__userdata-email">
      {{email}}
    </div>
  </div>
  <div class="einstellungen__import-export-wrapper">
    <div class="einstellungen__import-wrapper button" (click)="onFileButtonClick()">
      Daten importieren
    </div>
    <div class="einstellungen__export-wrapper button" (click)="exportFile()">
      Daten exportieren
    </div>
  </div>
  <div class="einstellungen__middle">
    <div class="einstellungen__section">
      <div class="einstellungen__checkbox-wrapper">
        <input type="checkbox" [(ngModel)]="isEnableToHighBuchungenChecked" (click)="onZuVielErlaubtClicked()" class="create-eintrag__data-apz">
        <div class="einstellungen__label" (click)="onZuVielErlaubtClicked()">
          Zu hohe Buchungen erlauben
        </div>
      </div>
    </div>
    <div class="einstellungen__section">
      <div class="einstellungen__multi-select-wrapper">
        <div class="einstellungen__label-multi-select">
          - Restgeld-Anzeige
        </div>
        <select class="einstellungen__multi-select" [(ngModel)]="topBarAnzeigeOption" (change)="onAnzeigeObenRechtsChanged()">
          <option class="einstellungen__multi-select--option">Restgeld für Monat</option>
          <option class="einstellungen__multi-select--option">Restgeld für Woche</option>
          <option class="einstellungen__multi-select--option">Restgeld für Tag (soll)</option>
          <option class="einstellungen__multi-select--option">Restgeld für Tag (ist)</option>
          <option class="einstellungen__multi-select--option">Ausblenden</option>
        </select>
      </div>
      <div class="einstellungen__multi-select-wrapper">
        <div class="einstellungen__label-multi-select">
          - Tages-Anzeige
        </div>
        <select class="einstellungen__multi-select" [(ngModel)]="tagesAnzeigeOption" (change)="onTagesAnzeigeChanged()">
          <option class="einstellungen__multi-select--option">Ausgaben</option>
          <option class="einstellungen__multi-select--option">Restgeld für Tag (soll)</option>
          <option class="einstellungen__multi-select--option">Restgeld für Tag (ist)</option>
          <option class="einstellungen__multi-select--option">Restgeld für Monat</option>
          <option class="einstellungen__multi-select--option">Ausblenden</option>
        </select>
      </div>
    </div>
    <div class="einstellungen__section">
      <div (click)="onKatVerwaltenClicked()" class="button">
        Buchungskategorien verwalten
      </div>
    </div>
  </div>

  <div class="einstellungen__ausloggen" (click)="onResetPwClicked()" *ngIf="isResetPwTextVisible; else resetPwLoading">
    passwort zurück setzen
  </div>

  <div class="einstellungen__alles-loeschen" (click)="onAlleDatenLoeschenClicked()">
    alle Daten löschen
  </div>

  <div class="einstellungen__alles-loeschen" (click)="onAccountLoeschenClicked()">
    account Löschen
  </div>
</div>

<input type="file" #fileInput (change)="onFileSelected($event)" style="display: none;" />

<ng-template #resetPwLoading>
  <div class="einstellungen__reset-pw-loading-gif-wrapper" *ngIf="isResetPwLoading; else resetPwCheck">
    <img src="assets/loading-gif.gif" class="einstellungen__reset-pw-loading-gif">
  </div>
</ng-template>

<ng-template #resetPwCheck>
  <div class="einstellungen__reset-pw-loading-gif-wrapper">
    <img src="assets/check-green.png" class="einstellungen__reset-pw-loading-gif">
  </div>
</ng-template>

<div class="einstellungen__import-loading-wrapper" *ngIf="isLoading">
  <img src="assets/loading-gif.gif" class="einstellungen__import-loading-gif">
</div>
